#+TITLE: Org Config
#+AUTHOR: David Hedin
#+SETUPFILE: ~/.emacs.d/org-theme.setup

* Org

Org mode is big enough that it's going to get its own file
(setq org-src-preserve-indentation nil)
(setq org-edit-src-content-indentation 0)
#+begin_src emacs-lisp :tangle yes
  (use-package org
    :hook
    ((org-mode . org-indent-mode)
    (org-mode . visual-line-mode)
    ; Display images inline after execution
    (org-babel-after-execute . org-redisplay-inline-images))
    :config
    (setq org-log-done t
          org-directory "~/org"
          org-support-shift-select t
          org-src-fontify-natively t
          org-src-tabs-acts-natively t
          org-startup-folded "showeverything"
          org-link-frame-setup
          '((vm . vm-visit-folder-other-frame)
            (vm-imap . vm-visit-imap-folder-other-frame)
            (gnus . org-gnus-no-new-news)
            (file . find-file)
            (wl . wl-other-frame))
          org-modules
          '(org-babel
            org-bibtex
            org-checklist)
          org-todo-keywords
          '((sequence "TODO(t)" "IN PROGRESS(p)" "|" "DONE(d!)")
            (sequence "WAITING(w@/!)" "HOLD(h@/!)" "|" "CANCELLED(c@/!)"))
          org-todo-keyword-faces
          '(("TODO" :foreground "red" :weight bold)
            ("NEXT" :foreground "blue" :weight bold)
            ("DONE" :foreground "forest green" :weight bold)
            ("WAITING" :foreground "orange" :weight bold)
            ("HOLD" :foreground "magenta" :weight bold)
            ("CANCELLED" :foreground "forest green" :weight bold)))
    (setq org-publish-project-alist
    '(("emacs-config"
      :base-directory "~/.emacs.d"
      :base-extension "org"
      :publishing-directory "~/.emacs.d/publish/"
      :recursive nil
      :publishing-function org-html-publish-to-html
      )))
    ;; Ditaa Drawing in Org
    (org-babel-do-load-languages
     'org-babel-load-languages
     '((C . t)
     (emacs-lisp . t)
     (latex . t)
     (python . t)
     (shell . t)))
    ; Disable confirm execute (Could be dangerous)
    (setq org-confirm-babel-evaluate nil)
    (add-hook 'org-babel-after-execute-hook 'org-redisplay-inline-images)
    )
#+end_src

* Publishing org projects

#+begin_src emacs-lisp :tangle yes
  (use-package htmlize) ;; HTML exporter
  (use-package ox-gfm) ;; GFM exporter
#+end_src
